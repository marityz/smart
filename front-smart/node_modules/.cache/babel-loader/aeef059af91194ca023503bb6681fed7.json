{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/marina/Desktop/smart/front-smart/src/components/CreateItem/CreateItem.js\";\nimport React from 'react';\nimport './CreateItem.css';\n\nclass CreateItem extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputForm = event => {\n      event.preventDefault();\n      this.setState({\n        isCreateItem: false\n      });\n      const target = event.target;\n      const value = target.value;\n      const name = target.name;\n      let form = this.state.form;\n      form[name] = value.trim();\n      this.setState({\n        form: form\n      });\n    };\n\n    this.clearForm = () => {\n      document.getElementById(\"form-item\").reset();\n      this.setState({\n        form: {}\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const saveData = this.deleteParams(this.state.form);\n      this.props.api.createItem(this.generateParams(saveData)).then(res => {\n        this.setState({\n          item: res\n        });\n        return res;\n      }).then(items => {\n        this.setState({\n          isCreateItem: true\n        });\n        this.clearForm();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.generateParams = obj => {\n      let params = {};\n\n      for (let propName in obj) {\n        if (!(propName === \"name\") && !(propName === \"description\")) {\n          //нужно добавить в объект params ключ значение\n          params[propName] = obj[propName];\n          delete obj[propName];\n        }\n      }\n\n      obj.params = params;\n      return obj;\n    };\n\n    this.deleteParams = formInputs => {\n      //удалить все пусте строки, сформировать типовой запрос\n      for (let propName in formInputs) {\n        if (formInputs[propName] === null || formInputs[propName] === undefined || formInputs[propName] === \"\") {\n          delete formInputs[propName];\n        }\n      }\n\n      return formInputs;\n    };\n\n    this.state = {\n      form: {},\n      item: \"\",\n      isCreateItem: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create-item\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"create-item__title\",\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"create-item__form \",\n        onSubmit: this.handleSubmit,\n        id: \"form-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"create-item__param\",\n          children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"create-item__input\",\n          minLength: 2,\n          name: \"name\",\n          onChange: this.handleInputForm,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 69\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"create-item__param\",\n          children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"create-item__input\",\n          minLength: 2,\n          name: \"description\",\n          onChange: this.handleInputForm,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 69\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"create-item__param\",\n          children: \"\\u0424\\u0438\\u0440\\u043C\\u0430: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"create-item__input\",\n          minLength: 2,\n          name: \"\\u0424\\u0438\\u0440\\u043C\\u0430\",\n          onChange: this.handleInputForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 66\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"create-item__param\",\n          children: \"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0430 \\u043F\\u0440\\u043E\\u0438\\u0437\\u0432\\u043E\\u0434\\u0438\\u0442\\u0435\\u043B\\u044C: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"create-item__input\",\n          minLength: 2,\n          name: \"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0430 \\u043F\\u0440\\u043E\\u0438\\u0437\\u0432\\u043E\\u0434\\u0438\\u0442\\u0435\\u043B\\u044C\",\n          onChange: this.handleInputForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 82\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"create-item__param\",\n          children: \"\\u0426\\u0432\\u0435\\u0442: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"create-item__input\",\n          minLength: 2,\n          name: \"\\u0426\\u0432\\u0435\\u0442\",\n          onChange: this.handleInputForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 65\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"create-item__button\",\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), this.state.isCreateItem ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"create-item__result\",\n        children: \"\\u0422\\u043E\\u0432\\u0430\\u0440 \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 44\n      }, this) : \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default CreateItem;","map":{"version":3,"sources":["/Users/marina/Desktop/smart/front-smart/src/components/CreateItem/CreateItem.js"],"names":["React","CreateItem","Component","constructor","props","handleInputForm","event","preventDefault","setState","isCreateItem","target","value","name","form","state","trim","clearForm","document","getElementById","reset","handleSubmit","saveData","deleteParams","api","createItem","generateParams","then","res","item","items","catch","err","console","log","obj","params","propName","formInputs","undefined","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './CreateItem.css';\n\n\nclass CreateItem extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            form: {},\n            item: \"\",\n            isCreateItem: false,\n        };\n\n    }\n\n    handleInputForm = (event) => {\n        event.preventDefault();\n        this.setState({\n            isCreateItem: false,\n        });\n\n\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n        let form = this.state.form;\n\n        form[name] = value.trim();\n\n        this.setState({\n            form: form,\n        });\n\n\n    };\n\n\n    clearForm = () => {\n        document.getElementById(\"form-item\").reset();\n        this.setState({form: {}});\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        const saveData = this.deleteParams(this.state.form);\n\n        this.props.api.createItem(this.generateParams(saveData))\n            .then((res) => {\n                this.setState({\n                    item: res,\n                });\n                return res;\n            })\n            .then((items) => {\n                this.setState({isCreateItem: true});\n                this.clearForm()\n            })\n\n            .catch((err)=>{\n                console.log(err)\n            })\n\n\n    };\n\n    generateParams = (obj) => {\n        let params = {};\n        for (let propName in obj) {\n            if (!(propName === \"name\") && !(propName === \"description\")) {\n                //нужно добавить в объект params ключ значение\n                params[propName] = obj[propName];\n                delete obj[propName];\n            }\n        }\n        obj.params = params;\n        return obj;\n    };\n\n    deleteParams = (formInputs) => {\n        //удалить все пусте строки, сформировать типовой запрос\n        for (let propName in formInputs) {\n            if (formInputs[propName] === null || formInputs[propName] === undefined || formInputs[propName] === \"\") {\n                delete formInputs[propName];\n            }\n        }\n        return formInputs;\n    };\n\n\n    render() {\n        return (\n            <div className=\"create-item\">\n                <h2 className=\"create-item__title\">Добавление товара</h2>\n                <form className='create-item__form ' onSubmit={this.handleSubmit} id=\"form-item\">\n                    <p className='create-item__param'>Название: </p>< input className='create-item__input' minLength={2}\n                                                                            name=\"name\" onChange={this.handleInputForm}\n                                                                            required/>\n                    <p className='create-item__param'>Описание: </p>< input className='create-item__input'\n                                                                            minLength={2} name=\"description\"\n                                                                            onChange={this.handleInputForm} required/>\n                    <p className='create-item__param'>Фирма: </p>< input className='create-item__input' minLength={2}\n                                                                         name=\"Фирма\" onChange={this.handleInputForm}/>\n                    <p className='create-item__param'>Страна производитель: </p> < input className='create-item__input'\n                                                                                         minLength={2}\n                                                                                         name='Страна производитель'\n                                                                                         onChange={this.handleInputForm}/>\n                    <p className='create-item__param'>Цвет: </p>< input className='create-item__input' minLength={2}\n                                                                        name=\"Цвет\" onChange={this.handleInputForm}/>\n                    <button className='create-item__button'>Добавить</button>\n                </form>\n                {this.state.isCreateItem ? <div className=\"create-item__result\">Товар успешно добавлен</div> : \" \"}\n\n            </div>\n        )\n    }\n}\n\n\nexport default CreateItem;\n"]},"metadata":{},"sourceType":"module"}